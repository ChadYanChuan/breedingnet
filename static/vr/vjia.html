<!DOCTYPE html>
<html>
<head>
	<title>易居</title>
	<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta http-equiv="x-ua-compatible" content="IE=edge" />
	<!-- <link rel="stylesheet" type="text/css" href="css/base.css" /> -->
	<style>
		@-ms-viewport { width:device-width; }
		@media only screen and (min-device-width:800px) { html { overflow:hidden; } }
		html { height:100%; }
		body { height:100%; overflow:hidden; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#FFFFFF; background-color:#000000; }
	</style>
	<script type="text/javascript" src="js/lib/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/lib/jquery.qrcode.min.js"></script>
</head>
<body class="pr">

<!-- <div id="loading">
    <div class="img-info">
        <img class="logo" src="panos/icon/logo.png" alt="logo">
    </div>
    <p class="loading-text">努力加载中…</p>
    <picture>
        <source type="image/webp" srcset="panos/icon/bg.jpg@70q.webp">
        <img class="background" src="panos/icon/bg.jpg@70q.webp">
    </picture>
</div> -->

<script src="tour.js"></script>

<div id="pano" style="width:100%;height:100%;">
	<noscript><table style="width:100%;height:100%;"><tr style="vertical-align:middle;"><td><div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div></td></tr></table></noscript>
	<script>
		embedpano({swf:"tour.swf", id:"krpanoSWFObject",xml:"tourNew.xml", target:"pano", html5:"only", mobilescale:1.0, passQueryParameters:true});
	</script>
</div>

</body>
<script type="text/javascript">
	function testJs(name){
		console.log(name);
	}
	function setHotspot(){
		var krpano = document.getElementById("krpanoSWFObject");
		krpano.set();
	}
	function loadingHide(){
		var load = document.getElementById("loading");
		load.style.display = "none";
	}
	function togo(name){
		console.log(name);
		var krpano = document.getElementById("krpanoSWFObject");
		// krpano.call("openurl('scene_all02',_self)");
	}
	function hotpotTest(hlookat,vlookat){
		var krpano = document.getElementById("krpanoSWFObject");
		krpano.call("loadpano('3vjia/main.xml',null,MERGE,BLEND(1));");
		
		// krpano.call("if(layer[help].visible,tween(layer[help].alpha,0);delayedcall(0.5,set(layer[help].visible,false)), set(layer[help].visible,true);tween(layer[help].alpha,1))");
		console.log(hlookat+",,,test,,,"+vlookat);
	}

	function getlookat()
	{
		var krpano = document.getElementById("krpanoSWFObject");
		
		if (krpano && krpano.get)	// it can take some time until krpano is loaded and ready
		{
			krpano.call("screentosphere(mouse.x, mouse.y, mouseath, mouseatv); js( showmouseinfo() );");
		}
	}
	
	function showmouseinfo()
	{			
		var krpano = document.getElementById("krpanoSWFObject");
		
		var mouse_at_x = krpano.get("mouse.x");
		var mouse_at_y = krpano.get("mouse.y");
		var mouse_at_h = krpano.get("mouseath");
		var mouse_at_v = krpano.get("mouseatv");
		
		// console.log(mouse_at_x+",,,"+mouse_at_y+",,,"+mouse_at_h.toFixed(2) + "°"+mouse_at_v.toFixed(2) + "°");			
		
		// document.getElementById("mouse_x").innerHTML = mouse_at_x + "px";
		// document.getElementById("mouse_y").innerHTML = mouse_at_y + "px";
		// document.getElementById("mouse_ath").innerHTML = mouse_at_h.toFixed(2) + "°";
		// document.getElementById("mouse_atv").innerHTML = mouse_at_v.toFixed(2) + "°";
	}

	// update mouse info 30 times per second
	// var lookat_interval = setInterval('getlookat()', 1000.0 / 30.0);
	
	
	// disable text selection to avoid cursor flickering
	window.onload = function() 
	{
  		document.onselectstart = function() {return false;} // ie
  		document.onmousedown = function() {return false;} // mozilla
	}

	$(document).ready(function(){

		// var tm = setTimeout(function(){
		// 	$("#loading").css("display","none");
		// },500);
		// $("#loading").css("display","none");
		// $("#loading").addClass("distranstion");

	});
// ]]>
</script>
</html>
